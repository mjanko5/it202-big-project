<!DOCTYPE html>
<html>

    <head>    
        <link rel="manifest" href="./manifest.json">
        <link href="styles.css" rel="stylesheet">

        <meta charset="utf-8">
        <meta name="theme-color" content="blue"/>
        <meta name="viewport" content="width=device-width">

        <title>Airport Atmosphere</title>

        <style>
            .content {
                display: none;
                margin: 1em;
            }
        </style>

        <!-- map -->
        <meta name="viewport" content="initial-scale=1.0">
        <style>
            /* Always set the map height explicitly to define the size of the div
           * element that contains the map. */
            #map {
                height: 100%;
                margin: 0;
            }
            /* Optional: Makes the sample page fill the window. */
            html, body {
                height: 93%;
                margin: 0;
                padding: 0;
            }
        </style>

        <!-- material components -->
        <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">

    </head>



    <body>

          <!-- DRAWER: -->
          <!-- notice the data-mdc-auto-init attribute;  this value is used by the autoinit script -->
          <aside class="mdc-drawer mdc-drawer--modal" data-mdc-auto-init="MDCDrawer">
          <div class="mdc-drawer__content">
              <nav class="mdc-list">
                  <a class="mdc-list-item mdc-list-item--activated" href="#home" aria-selected="true">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">home</i>
                    <span class="mdc-list-item__text">Home</span>
                  </a>
                  <a class="mdc-list-item" href="#search">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">search</i>
                    <span class="mdc-list-item__text">Search</span>
                  </a>
                  <a class="mdc-list-item" href="#list">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">list</i>
                    <span class="mdc-list-item__text">List Results</span>
                  </a>
                  <a class="mdc-list-item" href="#map">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">map</i>
                    <span class="mdc-list-item__text">Map Results</span>
                  </a>
                  <a class="mdc-list-item" href="#history">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">history</i>
                    <span class="mdc-list-item__text">Search History</span>
                  </a>
                  <a class="mdc-list-item" href="#about">
                    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">info</i>
                    <span class="mdc-list-item__text">About</span>
                  </a>
              </nav>
          </div>
        </aside>

        <!-- necessary for modal drawer -->
        <div class="mdc-drawer-scrim"></div>


        <!-- TOP APP BAR: -->
        <header class="mdc-top-app-bar">
          <div class="mdc-top-app-bar__row">
            <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
              <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button">menu</button>
         <!-- <button type="button"  id="menu-nav-btn" class="material-icons mdc-top-app-bar__navigation-icon"></button> -->
              <span class="mdc-top-app-bar__title">Airport Atmosphere</span>
            </section>
          </div>
        </header>
        <div class="mdc-top-app-bar--fixed-adjust"></div>



        <!-- CONTENT ON EACH SCREEN: -->
        <!-- Home -->
    <!--     <h1>Welcome to Airport Atmosphere</h1>
        <p>button goes here</p> -->


        <!-- Search -->
        <div class="content" id="search" bgcolor="#000000">
            <img src="airports.png" alt="airport picture" style="width:380px;height:148px;">
            <p class="mdc-typography--body1">Search for airports:</p>

            <!-- Text Field -->
            <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
              <input class="mdc-text-field__input" type="text" id="input">
              <label for="input" class="mdc-floating-label">Enter Airport or City</label>
              <div class="mdc-line-ripple"></div>
            </div>

            <!-- button -->
            <button id="airportButton" class="mdc-button mdc-button--raised" id="btnSay">
              Go
            </button>
            
            
            <!-- conent message -->        
            <p style="color: orange" class="contentMessage"></p>

            <!-- list items -->
            <ul id=listItems class="mdc-list mdc-list--two-line"></ul> 
        </div>

        <!-- List -->
        <div class="content" id="list">
        </div>

        <!-- Map -->
        <div class="content" id="map">            
            <div id="map"></div>
        </div>

        <!-- History -->
        <div class="content" id="history">
            <h5 class="mdc-typography--headline5">Search History</h5> 
            <!-- history items: -->
            <ul id=historyItems class="mdc-list mdc-list--two-line"></ul> 
        </div>    

        <!-- About -->
        <div class="content" id="about">
            <h5 class="mdc-typography--headline5">About</h5> 
            <h6 class="mdc-typography--headline6">Airport Atmosphere</h6> 
            <p class="mdc-typography--body1">
                This open-ended app can be used by pilots, tourists, and all other airporteers!
                Search for a city, MAJOR airport, or airport code.
                <br><br>
                The result is a list of airports.
                Clicking an item from the list produces a detail page with info such as weather, details, and a map!
                Enjoy exploring!
                <br><br>
                <strong>
                Some technical info:
                </strong>
                <br><br>
                Endpoints used: Airports Database and Open Weather Map API.
                <br>
                NOTE: Airport endpoint is from a Google Script at Matt's account. I hope there is no authentication problems reaching this endpoint.
                <br><br>
                As a hardware feature, I utilized the speaker of the device. Just hit "Hear Airport Alarm" and enjoy!!
                <br><br>
                There is also an Indexed DB, which can be seen under "Search History". Finally, there is a Service Worker and Manifest.
                <br><br>
                The card component has several icon buttons that are not yet implemented. Clicking them produces no result. The image is also a placeholder image.
                New enhancements are underway. Stay tuned.
            </p>
        </div>


        <!-- SCRIPTS -->

        <!-- google components:  -->
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

        <!-- jquery: -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


        <script>   
        var map;

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {
                    lat: 30, lng: 0
                },
                zoom: 2
            });
        }
        </script> 

        <!-- map key: -->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDDopgA8RxvE9G6G8m7J-9g_MFUkag9tFk&callback=initMap" async defer></script>

        <!-- dexie: -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dexie/2.0.4/dexie.min.js"></script>

        <!-- Main script: -->
        <script type="text/javascript" src="script.js"></script>



        <!-- REGISTER SERVICE WORKER. RETURNS A PROMISE AFTER SUCCESSFUL REGISTRATION.-->
        <script>
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
            .then(function(reg) {
              // registration worked
              console.log('Registration succeeded. Scope is ' + reg.scope);
            }).catch(function(error) {
              // registration failed
              console.log('Registration failed with ' + error);
            });
          }
        </script>

    </body>

</html>